<h1>Intelligent Placer</h1>
<h2>Описание программы</h2>
  <p>Intelligent Placer должен по фотографиям предметов на светлой
поверхности и многоугольнику выдавать результат о том, можно ли расположить
данные предметы так, чтобы они влезли в нарисованную фигуру. Программа выдаёт True
, если объекты можно поместить в фигуру, иначе False</p>
<h2>Требования</h2>
<h3>Предметы</h3>
  <ul>
    <li>Объект не выходит за границы листа</li>
    <li>Лист виден целиком</li>
    <li>Предметы находятся на некотором расстоянии от границ листа</li>
    <li>Объекты не могут перекрывать друг друга</li>
    <li>Объекты должны находиться снизу листа</li>
    
  </ul>
<h3>Фигура</h3>
  <ul>
    <li>Выпуклый многоугольник</li>
    <li>Число вершин не больше 10</li>
    <li>Рисуется на листе тёмным маркером</li>
  </ul>
<h3>Фотографии</h3>
  <ul>
    <li>Фон светлый</li>
    <li>Фотографии делаются в портретной ориентации</li>
    <li>Освещение комнатное(равномерное и без тёмных областей)</li>
    <li>Делаются на высоте 30-60 см от поверхности</li>
    <li>Угол между перпендикуляром к поверхности и направлением камеры < 5 градусов</li>
    <li>Формат ".jpg"</li>
    <li>Минимальное разрешение 10мп</li>
    <li>Предметы на фотографии не могут повторяться</li>
    <li>Лист формата А4</li>
    <li>Лист повёрнут вертикально</li>
    <li>Размер изображения стандартный(в тестовых примерах они 806x1080px)</li>
  </ul>
<h2>План решения задачи</h2>
<h3>Определение многоугольника</h3>
    <ol>
        <li>Выделить границы многоугольника фильтром Кэнни(для определения того, что это граница именно многоугольника есть две идеи)</li>
            <ul>
                <li>Т.к. лист помещается на фотографии целиком, то можно найти границы листа, и затем уже сам многоугольник, который будет внутри границ листа</li>
                <li>Учитывая требование, при котором объекты должны находиться ниже листа, можно попытаться 
искать самый верхний контур или же смотреть контуры в некоторой части фотографии(т.е., например, 3/4 области изображения, если считать сверху )</li>
            </ul>
        <li>Возможно дополнительная обработка(скорее всего, это будут морфологические операции)</li>
    </ol>
<h3>Выделение предметов</h3>
    <ol>
        <li>Выделяем границы предметов фильтром Кэнни(так же несколько вариантов)</li>
            <ul>
                <li>Основываемся на том же факте, что всё, что вне листа, будет предметами</li>
                <li>Используем требование, что предметы должны быть внизу листа, ищем контуры в некоторой области изображения(например, 1/4 часть листа, если считать снизу)</li>
                <li>Если мы знаем, какой и где контур многоугольника, то контурами предметов будут все полученные контуры, за исключением собственно многоугольника</li>
            </ul>
        <li>Так же, как и в случае многоугольника, возможна дополнительная обработка, дабы убрать шумы</li>
        <li>Размеры предметов, как и размер многоугольника, планируется находить с опорой на то, что мы используем лист А4, а его размеры известны заранее</li>
        <li>Произвести сопоставление с предметами из тренировочного набора, у которых, скорее всего, так же будут выделены границы(пока наиболее разумными кажутся две идеи)</li>
            <ul>
                <li>Использовать какую-то метрику для сравнения предметов(как вариант наименьший модуль разности между пикселями края изображения и ближайшего края изображения из тестового набора. Затем выбрать максимальный из этих модулей, по идее, чем он больше, тем сильнее различие объектов)</li>
                <li>Для каждого объекта найти особые точки и проводить сравнение уже по ним</li>
            </ul>
    </ol>
<h3>Проверка на вместимость всех предметов в многоугольник</h3>
    <ol>
        <li>Пока кажется <s>неразумной</s> разумной идея перебора(что-то в виде smart перебора) всех возможных вариантов и положений объектов</li>
            <ul>
<li>При этом попытаться уложить первыми самые большие предметы, а затем уже те, которые меньше</li>
            <li>Кроме того, желательно подбирать положения предметов так, чтобы они занимали "логичное" положение(т.е. если у нас многоугольник и предмет прямоугольной формы, то, если представляется возможным, расположить предмет вдоль границ многоугольника, а не, например, по диагонали)</li>
            </ul>
        <li>Впоследствии использовать некий критерий того, что предметы можно добавить в многоугольник(как вариант площадь оставшейся области)</li>
        <li>Если все предметы убрались, выводим True, иначе, если на какой-то итерации не получится добавить предмет- False</li>
        <li>Имеет смысл добавить обработку каких-то критичных случаев, когда мы можем сразу дать ответ на то, сможем ли мы расположить объекты в многоугольнике(например, сумма площадей объектов > площади многоугольника)</li>
    </ol>

  
